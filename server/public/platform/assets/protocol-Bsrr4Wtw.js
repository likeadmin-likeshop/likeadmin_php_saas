import{_ as B}from"./index-Ey-5zbqu.js";import{A as k,B as P,C as F,G as N,g as R}from"./element-plus-CSiqOtzA.js";import{T as A,E as T}from"./@wangeditor-BvvNszpm.js";import{_ as D}from"./picker--GObspzQ.js";import{z as w}from"./index-BByJ58pX.js";import{d as C,s as h,r as x,b as y,E as I,o as g,c as E,V as a,u as l,i as O,a0 as z,an as G,a as b,M as n,O as M,L as S,S as H,U as L}from"./@vue-TMcuEboY.js";import{c as $,d as j}from"./website-Ciu9qb25.js";import"./lodash-es-R-kYiKr_.js";import"./async-validator-DKvM95Vc.js";import"./@element-plus-C2WBhajb.js";import"./dayjs-CMfar2R3.js";import"./balanced-match-mNcR6oh4.js";import"./@ctrl-r5W6hzzQ.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@popperjs-D9SI2xQl.js";import"./index-Dq1HccTs.js";import"./index-D_6GXBst.js";import"./index.vue_vue_type_script_setup_true_lang-ggB8NA6X.js";import"./index-DZ6ARsWj.js";import"./@vueuse-DE_336rM.js";import"./usePaging-DFi_nJOG.js";import"./vue3-video-play-xg7gp0Bu.js";import"./vuedraggable-OYPBN08G.js";import"./vue-CHxGqOme.js";import"./sortablejs-DdgKbxid.js";import"./nprogress-Cgf5DU8x.js";import"./vue-router-CZY6S6gL.js";import"./pinia-ebUeA1L2.js";import"./axios-C-n2IhIP.js";import"./lodash-BtPWuHkK.js";import"./css-color-function-rJvg8h-6.js";import"./color-B0v57BL7.js";import"./clone-CuIhj1wH.js";import"./color-convert-BGgJB5UM.js";import"./color-name-BQ5IbGbl.js";import"./color-string-BhgG7-8u.js";import"./ms-CzQ2E3wO.js";import"./vue-clipboard3-8CNoFg4V.js";import"./clipboard-Dch_ozqB.js";import"./echarts-BR_QmBtV.js";import"./tslib-BDyQ-Jie.js";import"./zrender-B-CeXLwU.js";import"./highlight.js-D5uP1KGk.js";import"./@highlightjs-KJi31KWJ.js";const q=C({__name:"index",props:{modelValue:{default:""},mode:{default:"default"},height:{default:"100%"},width:{default:"auto"},toolbarConfig:{default:()=>({})}},emits:["update:modelValue"],setup(V,{emit:r}){const i=V,f=r,p=h(),e=h(),m=x("");let s;const u={MENU_CONF:{uploadImage:{customBrowseAndUpload(o){var t;m.value="image",(t=e.value)==null||t.showPopup(-1),s=o}},uploadVideo:{customBrowseAndUpload(o){var t;m.value="video",(t=e.value)==null||t.showPopup(-1),s=o}}}},c=y(()=>({height:w(i.height),width:w(i.width)})),d=y({get(){return i.modelValue},set(o){f("update:modelValue",o)}}),_=o=>{o.forEach(t=>{s(t)})};I(()=>{const o=p.value;o!=null&&o.destroy()});const v=o=>{p.value=o};return(o,t)=>(g(),E("div",{class:"border border-br flex flex-col",style:z(l(c))},[a(l(A),{class:"border-b border-br",editor:l(p),defaultConfig:o.toolbarConfig,mode:o.mode},null,8,["editor","defaultConfig","mode"]),a(l(T),{class:"flex-1 overflow-hidden",modelValue:l(d),"onUpdate:modelValue":t[0]||(t[0]=U=>O(d)?d.value=U:null),defaultConfig:u,mode:o.mode,onOnCreated:v},null,8,["modelValue","mode"]),a(D,{ref_key:"materialPickerRef",ref:e,type:l(m),limit:-1,"hidden-upload":"",onChange:_},null,8,["type"])],4))}}),J={class:"xl:flex"},ze=C({__name:"protocol",setup(V){const r=x({service_title:"",service_content:"",privacy_title:"",privacy_content:""}),i=async()=>{r.value=await $()},f=async()=>{await j({...r.value}),i()};return i(),(p,e)=>{const m=k,s=P,u=F,c=q,d=N,_=R,v=B,o=G("perms");return g(),E(L,null,[b("div",J,[a(d,{class:"!border-none flex-1 xl:mr-4 mb-4",shadow:"never"},{header:n(()=>e[4]||(e[4]=[b("span",{class:"font-medium"},"服务协议",-1)])),default:n(()=>[a(u,{model:l(r),"label-width":"80px"},{default:n(()=>[a(s,{label:"协议名称"},{default:n(()=>[a(m,{modelValue:l(r).service_title,"onUpdate:modelValue":e[0]||(e[0]=t=>l(r).service_title=t)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),a(c,{class:"mb-10",modelValue:l(r).service_content,"onUpdate:modelValue":e[1]||(e[1]=t=>l(r).service_content=t),height:"500"},null,8,["modelValue"])]),_:1}),a(d,{class:"!border-none flex-1 mb-4",shadow:"never"},{header:n(()=>e[5]||(e[5]=[b("span",{class:"font-medium"},"隐私协议",-1)])),default:n(()=>[a(u,{model:l(r),"label-width":"80px"},{default:n(()=>[a(s,{label:"协议名称"},{default:n(()=>[a(m,{modelValue:l(r).privacy_title,"onUpdate:modelValue":e[2]||(e[2]=t=>l(r).privacy_title=t)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),a(c,{class:"mb-10",modelValue:l(r).privacy_content,"onUpdate:modelValue":e[3]||(e[3]=t=>l(r).privacy_content=t),height:"500"},null,8,["modelValue"])]),_:1})]),M((g(),S(v,null,{default:n(()=>[a(_,{type:"primary",onClick:f},{default:n(()=>e[6]||(e[6]=[H("保存")])),_:1})]),_:1})),[[o,["setting.web.web_setting/setAgreement"]]])],64)}}});export{ze as default};
