import{A as K,B as N,g as S,C as j,F as q,G,p as J,H as M,I as O,J as Z}from"./element-plus-Ou0nfccG.js";import{_ as Q}from"./index.vue_vue_type_script_setup_true_lang-CslcF2KS.js";import{f as W,b as X}from"./index-BeFadpgT.js";import{_ as Y}from"./index.vue_vue_type_script_setup_true_lang-Dd4AnJ2h.js";import{_ as ee}from"./index.vue_vue_type_script_setup_true_lang-zHXeh_Mh.js";import{d as R,Z as te,a4 as oe,an as ae,o as p,c as ne,V as e,M as a,u as n,ab as ie,S as l,a as g,O as f,L as c,T as v,i as re}from"./@vue-pHjCrgw6.js";import{g as V,u as le}from"./consumer-BYOvwJ0M.js";import{u as me}from"./usePaging-DPOcKk5Q.js";import{u as x}from"./getExposeType-SYJODb24.js";import se from"./add-DdBnbhIx.js";import pe from"./edit-CgvpQjtk.js";import"./lodash-es-R-kYiKr_.js";import"./async-validator-DKvM95Vc.js";import"./@element-plus-NId5miUe.js";import"./dayjs-CMfar2R3.js";import"./balanced-match-mNcR6oh4.js";import"./@ctrl-r5W6hzzQ.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@popperjs-D9SI2xQl.js";import"./nprogress-Cgf5DU8x.js";import"./vue-router-CoNqKBK4.js";import"./pinia-CJRVDLHa.js";import"./axios-C-n2IhIP.js";import"./lodash-BtPWuHkK.js";import"./@vueuse-YJSHNXWG.js";import"./css-color-function-rJvg8h-6.js";import"./color-B0v57BL7.js";import"./clone-CuIhj1wH.js";import"./color-convert-BGgJB5UM.js";import"./color-name-BQ5IbGbl.js";import"./color-string-BhgG7-8u.js";import"./ms-CzQ2E3wO.js";import"./vue-clipboard3-8CNoFg4V.js";import"./clipboard-Dch_ozqB.js";import"./echarts-BR_QmBtV.js";import"./tslib-BDyQ-Jie.js";import"./zrender-B-CeXLwU.js";import"./highlight.js-D5uP1KGk.js";import"./@highlightjs-D4DIzBxc.js";import"./index-DWydQ7og.js";import"./picker-CtNTtJq0.js";import"./index-CMbCeRmE.js";import"./index-xL-oGJXP.js";import"./vue3-video-play-DOrZ4nvR.js";import"./vuedraggable-sl9LAZCB.js";import"./vue-PIt_O_4w.js";import"./sortablejs-DdgKbxid.js";import"./index.vue_vue_type_script_setup_true_lang-DzHSz-Kh.js";import"./edit.vue_vue_type_script_setup_true_lang-BRWweq6k.js";import"./department-M7HCBmEb.js";import"./post-ssViJPeh.js";import"./role-DfOnbIPj.js";import"./useDictOptions-CylmDL4O.js";import"./index.vue_vue_type_script_setup_true_lang-slzIjABO.js";import"./detail-DHMGeqPq.js";const de=["href"],_e={class:"flex justify-end mt-4"},ue=R({name:"consumerLists"}),bt=R({...ue,setup(fe){const y=x(),C=x(),r=te({keyword:"",channel:"",create_time_start:"",create_time_end:""}),{pager:d,getLists:_,resetPage:w,resetParams:h}=me({fetchFun:V,params:r});oe(()=>{_()});const B=async E=>{await W.confirm("确定要删除？"),await le({id:E}),_()};return _(),(E,t)=>{const z=K,k=N,D=ee,m=S,H=Y,L=j,T=q,P=X,i=G,U=J,$=M,A=O,F=Q,b=ae("perms"),I=Z;return p(),ne("div",null,[e(T,{class:"!border-none",shadow:"never"},{default:a(()=>[e(L,{ref:"formRef",class:"mb-[-16px]",model:n(r),inline:!0},{default:a(()=>[e(k,{label:"用户信息"},{default:a(()=>[e(z,{class:"w-[280px]",modelValue:n(r).keyword,"onUpdate:modelValue":t[0]||(t[0]=o=>n(r).keyword=o),placeholder:"账号/租户名",clearable:"",onKeyup:ie(n(w),["enter"])},null,8,["modelValue","onKeyup"])]),_:1}),e(k,{label:"创建时间"},{default:a(()=>[e(D,{startTime:n(r).create_time_start,"onUpdate:startTime":t[1]||(t[1]=o=>n(r).create_time_start=o),endTime:n(r).create_time_end,"onUpdate:endTime":t[2]||(t[2]=o=>n(r).create_time_end=o)},null,8,["startTime","endTime"])]),_:1}),e(k,null,{default:a(()=>[e(m,{type:"primary",onClick:n(w)},{default:a(()=>t[7]||(t[7]=[l("查询")])),_:1},8,["onClick"]),e(m,{onClick:n(h)},{default:a(()=>t[8]||(t[8]=[l("重置")])),_:1},8,["onClick"]),e(H,{class:"ml-2.5","fetch-fun":n(V),params:n(r),"page-size":n(d).size},null,8,["fetch-fun","params","page-size"])]),_:1})]),_:1},8,["model"])]),_:1}),e(T,{class:"!border-none mt-4",shadow:"never"},{default:a(()=>[g("div",null,[f((p(),c(m,{type:"primary",onClick:t[3]||(t[3]=o=>{var u;return(u=n(C))==null?void 0:u.openHandle()})},{icon:a(()=>[e(P,{name:"el-icon-Plus"})]),default:a(()=>[t[9]||(t[9]=l(" 新增 "))]),_:1})),[[b,["tenant.tenant/add"]]])]),f((p(),c(A,{class:"mt-4",size:"large",data:n(d).lists},{default:a(()=>[e(i,{label:"编号",prop:"sn",width:"120"}),e(i,{label:"头像",width:"90",align:"center"},{default:a(({row:o})=>[e(U,{src:o.avatar,size:50},null,8,["src"])]),_:1}),e(i,{label:"租户名称",prop:"name","min-width":"100"}),e(i,{label:"联系方式",prop:"tel","min-width":"130"}),e(i,{label:"用户数量",prop:"users_count","min-width":"100"},{default:a(({row:o})=>[e(m,{type:"primary",link:"",onClick:u=>{var s;return(s=n(y))==null?void 0:s.openHandle(o.id,!1,"users")}},{default:a(()=>[l(v(o.users_count),1)]),_:2},1032,["onClick"])]),_:1}),e(i,{label:"状态","min-width":"80"},{default:a(({row:o})=>[e($,{type:o.disable===0?"primary":"info"},{default:a(()=>[l(v(o.disable===0?"开启":"关闭"),1)]),_:2},1032,["type"])]),_:1}),e(i,{label:"默认域名",prop:"default_domain","min-width":"200"}),e(i,{label:"域名别名",prop:"domain_alias","min-width":"200"}),e(i,{label:"启用别名",prop:"domain_alias_enable","min-width":"100"},{default:a(({row:o})=>[e($,{type:o.domain_alias_enable===0?"primary":"info"},{default:a(()=>[l(v(o.domain_alias_enable===0?"启用":"禁用"),1)]),_:2},1032,["type"])]),_:1}),e(i,{label:"创建时间",prop:"create_time","min-width":"200"}),e(i,{label:"备注",prop:"notes","min-width":"150","show-overflow-tooltip":""}),e(i,{label:"操作",width:"260",fixed:"right"},{default:a(({row:o})=>[f((p(),c(m,{type:"primary",link:""},{default:a(()=>[g("a",{href:o.domain,target:"_blank"},"进入后台",8,de)]),_:2},1024)),[[b,["user.user/detail"]]]),f((p(),c(m,{type:"primary",link:"",onClick:u=>{var s;return(s=n(y))==null?void 0:s.openHandle(o.id)}},{default:a(()=>t[10]||(t[10]=[l(" 详情 ")])),_:2},1032,["onClick"])),[[b,["user.user/detail"]]]),f((p(),c(m,{type:"primary",link:"",onClick:u=>{var s;return(s=n(y))==null?void 0:s.openHandle(o.id,!0)}},{default:a(()=>t[11]||(t[11]=[l(" 编辑 ")])),_:2},1032,["onClick"])),[[b,["user.user/edit"]]]),f((p(),c(m,{type:"danger",link:"",onClick:u=>B(o.id)},{default:a(()=>t[12]||(t[12]=[l(" 删除 ")])),_:2},1032,["onClick"])),[[b,["user.user/delete"]]])]),_:1})]),_:1},8,["data"])),[[I,n(d).loading]]),g("div",_e,[e(F,{modelValue:n(d),"onUpdate:modelValue":t[4]||(t[4]=o=>re(d)?d.value=o:null),onChange:n(_)},null,8,["modelValue","onChange"])])]),_:1}),e(pe,{ref_key:"editRef",ref:y,onRefresh:t[5]||(t[5]=o=>n(_)())},null,512),e(se,{ref_key:"addRef",ref:C,onRefresh:t[6]||(t[6]=o=>n(_)())},null,512)])}}});export{bt as default};
