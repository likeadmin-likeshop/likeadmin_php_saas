import{a as C,E as q,C as D,B as I,L as N,M as A,h as F,D as L,i as T}from"./element-plus-DYHMmEbd.js";import{M as z}from"./picker-BC4SDxLh.js";import{a as G}from"./consumer-BnRWfqlX.js";import{d as H,r as f,s as P,o as S,L as j,M as r,V as l,u as a,a as n,S as p,i as J}from"./@vue-pHjCrgw6.js";import{d as K}from"./index-CR4R7Ze_.js";import"./lodash-es-R-kYiKr_.js";import"./async-validator-DKvM95Vc.js";import"./@element-plus-NId5miUe.js";import"./dayjs--xHAjlqv.js";import"./axios-CJlJSG1h.js";import"./@ctrl-r5W6hzzQ.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@popperjs-D9SI2xQl.js";import"./index-C9g2zszt.js";import"./index-CacBxfjr.js";import"./index.vue_vue_type_script_setup_true_lang-yCvIOxvX.js";import"./index-wtR0y8Wg.js";import"./@vueuse-YJSHNXWG.js";import"./usePaging-DPOcKk5Q.js";import"./vue3-video-play-DOrZ4nvR.js";import"./vuedraggable-D1yBakrn.js";import"./vue-DlOSPZzw.js";import"./sortablejs-w0JOCsNJ.js";import"./nprogress-sDkjjtif.js";import"./vue-router-CoNqKBK4.js";import"./pinia-CJRVDLHa.js";import"./lodash-CSq-IaWf.js";import"./css-color-function-DEEjFEOq.js";import"./color-B0v57BL7.js";import"./clone-CuIhj1wH.js";import"./color-convert-BGgJB5UM.js";import"./color-name-BQ5IbGbl.js";import"./color-string-BhgG7-8u.js";import"./balanced-match-D4yLO45F.js";import"./ms-CzQ2E3wO.js";import"./vue-clipboard3-BlHxVXLb.js";import"./clipboard-CfUngHJy.js";import"./echarts-BR_QmBtV.js";import"./tslib-BDyQ-Jie.js";import"./zrender-B-CeXLwU.js";import"./highlight.js-kkhpHHq8.js";import"./@highlightjs-DIPqHoKm.js";const O=H({__name:"add",emits:["refresh"],setup(Q,{expose:x,emit:w}){const i=f(!1),V=P(),_=f(!1),o=f({avatar:"",create_time:"",name:"",sn:"",id:"",disable:0,tel:"",domain_alias:"",domain_alias_enable:1,notes:"",account:"",password:"",repassword:""}),v={avatar:[{required:!0,message:"请选择头像",trigger:["change"]}],name:[{required:!0,message:"请输入租户名称",trigger:["blur"]}],disable:[{required:!0,message:"请选择租户状态",trigger:["blur"]}]},g=w,y=()=>{i.value=!0},E=m=>{_.value&&m(),C.confirm("表单未提交，确认退出编辑吗？").then(()=>{m()}).catch(()=>{console.log("取消")})},U=async()=>{var m;if(await((m=V.value)==null?void 0:m.validate()),o.value.password!==o.value.repassword)return q.error("两次密码输入不一致");await G(o.value),_.value=!0,i.value=!1,g("refresh")};return x({openHandle:y}),(m,e)=>{const k=z,s=D,d=I,u=N,b=A,B=F,M=L,R=T;return S(),j(R,{modelValue:a(i),"onUpdate:modelValue":e[10]||(e[10]=t=>J(i)?i.value=t:null),title:"新增租户",direction:"rtl",size:"50%","destroy-on-close":"","before-close":E},{default:r(()=>[l(M,{ref_key:"formRef",ref:V,class:"ls-form","label-position":"right",model:a(o),rules:v,"label-width":"100px"},{default:r(()=>[e[17]||(e[17]=n("div",{class:"form_header"},"基础信息",-1)),l(s,{label:"头像：",prop:"avatar"},{default:r(()=>[l(k,{modelValue:a(o).avatar,"onUpdate:modelValue":e[0]||(e[0]=t=>a(o).avatar=t),limit:1},null,8,["modelValue"])]),_:1}),l(s,{label:"租户名称：",prop:"name"},{default:r(()=>[l(d,{modelValue:a(o).name,"onUpdate:modelValue":e[1]||(e[1]=t=>a(o).name=t),placeholder:"请输入租户名称",style:{width:"280px"}},null,8,["modelValue"])]),_:1}),l(s,{label:"租户状态：",prop:"disable"},{default:r(()=>[l(b,{modelValue:a(o).disable,"onUpdate:modelValue":e[2]||(e[2]=t=>a(o).disable=t)},{default:r(()=>[l(u,{label:0},{default:r(()=>e[11]||(e[11]=[p("开启")])),_:1}),l(u,{label:1},{default:r(()=>e[12]||(e[12]=[p("关闭")])),_:1})]),_:1},8,["modelValue"])]),_:1}),l(s,{label:"联系方式：",prop:"tel"},{default:r(()=>[l(d,{modelValue:a(o).tel,"onUpdate:modelValue":e[3]||(e[3]=t=>a(o).tel=t),maxlength:30,placeholder:"请输入联系方式",style:{"max-width":"250px"}},null,8,["modelValue"])]),_:1}),l(s,{label:"域名别名：",prop:"domain_alias"},{default:r(()=>[l(d,{modelValue:a(o).domain_alias,"onUpdate:modelValue":e[4]||(e[4]=t=>a(o).domain_alias=t),placeholder:"请输入域名别名",style:{"max-width":"250px"}},null,8,["modelValue"])]),_:1}),l(s,{label:"启用别名：",prop:"domain_alias_enable"},{default:r(()=>[n("div",null,[l(b,{modelValue:a(o).domain_alias_enable,"onUpdate:modelValue":e[5]||(e[5]=t=>a(o).domain_alias_enable=t)},{default:r(()=>[l(u,{label:0},{default:r(()=>e[13]||(e[13]=[p("启用")])),_:1}),l(u,{label:1},{default:r(()=>e[14]||(e[14]=[p("禁用")])),_:1})]),_:1},8,["modelValue"]),e[15]||(e[15]=n("p",{class:"text-info text-sm"}," Tips：项目线上部署后，配置好域名别名并解析到默认域名后启用即可生效 ",-1))])]),_:1}),l(s,{label:"租户备注：",prop:"notes"},{default:r(()=>[l(d,{modelValue:a(o).notes,"onUpdate:modelValue":e[6]||(e[6]=t=>a(o).notes=t),placeholder:"请输入租户备注",style:{"max-width":"250px"},type:"textarea",maxlength:100},null,8,["modelValue"])]),_:1}),e[18]||(e[18]=n("div",{class:"form_header"},[p(" 账号信息 "),n("span",{class:"text-xs font-normal text-info opacity-70"}," （不填则生成默认账号，账号默认为sn编码，密码默认123456） ")],-1)),l(s,{label:"管理员账号：",prop:"account"},{default:r(()=>[l(d,{modelValue:a(o).account,"onUpdate:modelValue":e[7]||(e[7]=t=>a(o).account=t),placeholder:"请输入管理员账号",style:{"max-width":"250px"}},null,8,["modelValue"])]),_:1}),l(s,{label:"密码：",prop:"password"},{default:r(()=>[l(d,{modelValue:a(o).password,"onUpdate:modelValue":e[8]||(e[8]=t=>a(o).password=t),type:"password",placeholder:"请输入密码",style:{"max-width":"250px"}},null,8,["modelValue"])]),_:1}),l(s,{label:"确认密码：",prop:"repassword"},{default:r(()=>[l(d,{modelValue:a(o).repassword,"onUpdate:modelValue":e[9]||(e[9]=t=>a(o).repassword=t),type:"password",placeholder:"请再次输入密码",style:{"max-width":"250px"}},null,8,["modelValue"])]),_:1}),l(s,null,{default:r(()=>[l(B,{type:"primary",onClick:U},{default:r(()=>e[16]||(e[16]=[p("提交")])),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])}}}),Le=K(O,[["__scopeId","data-v-60ba7560"]]);export{Le as default};
