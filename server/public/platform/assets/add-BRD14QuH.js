import{a as A,B as L,A as I,K as N,L as q,g as D,C as S,h as T,E as z}from"./element-plus-D_drhFLK.js";import{M as G}from"./picker-B4OQw51C.js";import{a as H}from"./consumer-BojUbSd1.js";import{u as K}from"./useLockFn-BhPLnZje.js";import{d as P,r as V,s as j,o as J,L as O,M as r,V as l,u as a,a as n,S as p,i as Q}from"./@vue-TMcuEboY.js";import{d as W}from"./index-C2e7lqre.js";import"./lodash-es-R-kYiKr_.js";import"./async-validator-DKvM95Vc.js";import"./@element-plus-C2WBhajb.js";import"./dayjs-CMfar2R3.js";import"./balanced-match-mNcR6oh4.js";import"./@ctrl-r5W6hzzQ.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@popperjs-D9SI2xQl.js";import"./index-BCN83W85.js";import"./index-C3lX7SN5.js";import"./index.vue_vue_type_script_setup_true_lang-CJUmABp7.js";import"./index-DOzTAVTX.js";import"./@vueuse-DE_336rM.js";import"./usePaging-DFi_nJOG.js";import"./vue3-video-play-xg7gp0Bu.js";import"./vuedraggable-OYPBN08G.js";import"./vue-CHxGqOme.js";import"./sortablejs-DdgKbxid.js";import"./nprogress-Cgf5DU8x.js";import"./vue-router-CZY6S6gL.js";import"./pinia-ebUeA1L2.js";import"./axios-C-n2IhIP.js";import"./lodash-BtPWuHkK.js";import"./css-color-function-rJvg8h-6.js";import"./color-B0v57BL7.js";import"./clone-CuIhj1wH.js";import"./color-convert-BGgJB5UM.js";import"./color-name-BQ5IbGbl.js";import"./color-string-BhgG7-8u.js";import"./ms-CzQ2E3wO.js";import"./vue-clipboard3-8CNoFg4V.js";import"./clipboard-Dch_ozqB.js";import"./echarts-BR_QmBtV.js";import"./tslib-BDyQ-Jie.js";import"./zrender-B-CeXLwU.js";import"./highlight.js-D5uP1KGk.js";import"./@highlightjs-KJi31KWJ.js";const X=P({__name:"add",emits:["refresh"],setup(Y,{expose:x,emit:w}){const i=V(!1),f=j(),_=V(!1),o=V({avatar:"",create_time:"",name:"",sn:"",id:"",disable:0,tel:"",domain_alias:"",domain_alias_enable:1,notes:"",account:"",password:"",password_confirm:""}),v={name:[{required:!0,message:"请输入租户名称",trigger:["blur"]}],disable:[{required:!0,message:"请选择租户状态",trigger:["blur"]}]},y=w,g=()=>{_.value=!1,i.value=!0},k=m=>{_.value&&m(),A.confirm("表单未提交，确认退出编辑吗？").then(()=>{m()}).catch(()=>{})},U=()=>{var m;(m=f.value)==null||m.resetFields()},E=async()=>{var m;if(await((m=f.value)==null?void 0:m.validate()),o.value.password!==o.value.password_confirm)return z.error("两次密码输入不一致");await H(o.value),_.value=!0,i.value=!1,y("refresh")},{isLock:c,lockFn:C}=K(E);return x({openHandle:g}),(m,e)=>{const B=G,s=L,d=I,u=N,b=q,R=D,F=S,M=T;return J(),O(M,{modelValue:a(i),"onUpdate:modelValue":e[10]||(e[10]=t=>Q(i)?i.value=t:null),title:"新增租户",direction:"rtl",size:"50%","destroy-on-close":!0,"before-close":k,onClose:U},{default:r(()=>[l(F,{ref_key:"formRef",ref:f,class:"ls-form","label-position":"right",model:a(o),rules:v,"label-width":"100px"},{default:r(()=>[e[17]||(e[17]=n("div",{class:"form_header"},"基础信息",-1)),l(s,{label:"头像：",prop:"avatar"},{default:r(()=>[l(B,{modelValue:a(o).avatar,"onUpdate:modelValue":e[0]||(e[0]=t=>a(o).avatar=t),limit:1},null,8,["modelValue"])]),_:1}),l(s,{label:"租户名称：",prop:"name"},{default:r(()=>[l(d,{modelValue:a(o).name,"onUpdate:modelValue":e[1]||(e[1]=t=>a(o).name=t),placeholder:"请输入租户名称",style:{width:"280px"}},null,8,["modelValue"])]),_:1}),l(s,{label:"租户状态：",prop:"disable"},{default:r(()=>[l(b,{modelValue:a(o).disable,"onUpdate:modelValue":e[2]||(e[2]=t=>a(o).disable=t)},{default:r(()=>[l(u,{value:0},{default:r(()=>e[11]||(e[11]=[p("开启")])),_:1}),l(u,{value:1},{default:r(()=>e[12]||(e[12]=[p("关闭")])),_:1})]),_:1},8,["modelValue"])]),_:1}),l(s,{label:"联系方式：",prop:"tel"},{default:r(()=>[l(d,{modelValue:a(o).tel,"onUpdate:modelValue":e[3]||(e[3]=t=>a(o).tel=t),maxlength:30,placeholder:"请输入联系方式",style:{"max-width":"250px"}},null,8,["modelValue"])]),_:1}),l(s,{label:"域名别名：",prop:"domain_alias"},{default:r(()=>[l(d,{modelValue:a(o).domain_alias,"onUpdate:modelValue":e[4]||(e[4]=t=>a(o).domain_alias=t),placeholder:"请输入域名别名",style:{"max-width":"250px"}},null,8,["modelValue"])]),_:1}),l(s,{label:"启用别名：",prop:"domain_alias_enable"},{default:r(()=>[n("div",null,[l(b,{modelValue:a(o).domain_alias_enable,"onUpdate:modelValue":e[5]||(e[5]=t=>a(o).domain_alias_enable=t)},{default:r(()=>[l(u,{value:0},{default:r(()=>e[13]||(e[13]=[p("启用")])),_:1}),l(u,{value:1},{default:r(()=>e[14]||(e[14]=[p("禁用")])),_:1})]),_:1},8,["modelValue"]),e[15]||(e[15]=n("p",{class:"text-info text-sm"}," Tips：项目线上部署后，配置好域名别名并解析到默认域名后启用即可生效 ",-1))])]),_:1}),l(s,{label:"租户备注：",prop:"notes"},{default:r(()=>[l(d,{modelValue:a(o).notes,"onUpdate:modelValue":e[6]||(e[6]=t=>a(o).notes=t),placeholder:"请输入租户备注",style:{"max-width":"250px"},type:"textarea",maxlength:100},null,8,["modelValue"])]),_:1}),e[18]||(e[18]=n("div",{class:"form_header"},[p(" 账号信息 "),n("span",{class:"text-xs font-normal text-info opacity-70"}," （不填则生成默认账号，账号默认为sn编码，密码默认123456） ")],-1)),l(s,{label:"管理员账号：",prop:"account"},{default:r(()=>[l(d,{modelValue:a(o).account,"onUpdate:modelValue":e[7]||(e[7]=t=>a(o).account=t),placeholder:"请输入管理员账号",style:{"max-width":"250px"}},null,8,["modelValue"])]),_:1}),l(s,{label:"密码：",prop:"password"},{default:r(()=>[l(d,{modelValue:a(o).password,"onUpdate:modelValue":e[8]||(e[8]=t=>a(o).password=t),type:"password",placeholder:"请输入密码",style:{"max-width":"250px"}},null,8,["modelValue"])]),_:1}),l(s,{label:"确认密码：",prop:"password_confirm"},{default:r(()=>[l(d,{modelValue:a(o).password_confirm,"onUpdate:modelValue":e[9]||(e[9]=t=>a(o).password_confirm=t),type:"password",placeholder:"请再次输入密码",style:{"max-width":"250px"}},null,8,["modelValue"])]),_:1}),l(s,null,{default:r(()=>[l(R,{type:"primary",loading:a(c),onClick:a(C)},{default:r(()=>e[16]||(e[16]=[p("提交")])),_:1},8,["loading","onClick"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])}}}),Ge=W(X,[["__scopeId","data-v-6acb412b"]]);export{Ge as default};
