import{_ as B}from"./index-ClrzhvMq.js";import{B as k,C as P,D as F,G as N,h as R}from"./element-plus-JyXarlxi.js";import{T as D,E as M}from"./@wangeditor-CpuKYhPp.js";import{M as T}from"./picker-M3nSgKfu.js";import{z as h}from"./index-CBjrPnzd.js";import{d as C,s as w,r as x,b as y,E as A,o as V,c as E,V as a,u as l,i as I,a0 as O,an as z,a as b,M as i,O as G,L as S,S as H,U as L}from"./@vue-pHjCrgw6.js";import{c as $,d as j}from"./website-Dq-zs1FS.js";import"./lodash-es-R-kYiKr_.js";import"./async-validator-DKvM95Vc.js";import"./@element-plus-NId5miUe.js";import"./dayjs-CMfar2R3.js";import"./balanced-match-mNcR6oh4.js";import"./@ctrl-r5W6hzzQ.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@popperjs-D9SI2xQl.js";import"./index-B0NpHAzA.js";import"./index-z0CGJJKX.js";import"./index.vue_vue_type_script_setup_true_lang-BlFVwec6.js";import"./index-C-ga7jui.js";import"./@vueuse-YJSHNXWG.js";import"./usePaging-DPOcKk5Q.js";import"./vue3-video-play-DOrZ4nvR.js";import"./vuedraggable-sl9LAZCB.js";import"./vue-PIt_O_4w.js";import"./sortablejs-DdgKbxid.js";import"./nprogress-Cgf5DU8x.js";import"./vue-router-CoNqKBK4.js";import"./pinia-CJRVDLHa.js";import"./axios-C-n2IhIP.js";import"./lodash-BtPWuHkK.js";import"./css-color-function-rJvg8h-6.js";import"./color-B0v57BL7.js";import"./clone-CuIhj1wH.js";import"./color-convert-BGgJB5UM.js";import"./color-name-BQ5IbGbl.js";import"./color-string-BhgG7-8u.js";import"./ms-CzQ2E3wO.js";import"./vue-clipboard3-8CNoFg4V.js";import"./clipboard-Dch_ozqB.js";import"./echarts-BR_QmBtV.js";import"./tslib-BDyQ-Jie.js";import"./zrender-B-CeXLwU.js";import"./highlight.js-D5uP1KGk.js";import"./@highlightjs-D4DIzBxc.js";const q=C({__name:"index",props:{modelValue:{default:""},mode:{default:"default"},height:{default:"100%"},width:{default:"auto"},toolbarConfig:{default:()=>({})}},emits:["update:modelValue"],setup(g,{emit:r}){const n=g,f=r,p=w(),e=w(),m=x("");let s;const u={MENU_CONF:{uploadImage:{customBrowseAndUpload(o){var t;m.value="image",(t=e.value)==null||t.showPopup(-1),s=o}},uploadVideo:{customBrowseAndUpload(o){var t;m.value="video",(t=e.value)==null||t.showPopup(-1),s=o}}}},c=y(()=>({height:h(n.height),width:h(n.width)})),d=y({get(){return n.modelValue},set(o){f("update:modelValue",o)}}),_=o=>{o.forEach(t=>{s(t)})};A(()=>{const o=p.value;o!=null&&o.destroy()});const v=o=>{p.value=o};return(o,t)=>(V(),E("div",{class:"border border-br flex flex-col",style:O(l(c))},[a(l(D),{class:"border-b border-br",editor:l(p),defaultConfig:o.toolbarConfig,mode:o.mode},null,8,["editor","defaultConfig","mode"]),a(l(M),{class:"flex-1 overflow-hidden",modelValue:l(d),"onUpdate:modelValue":t[0]||(t[0]=U=>I(d)?d.value=U:null),defaultConfig:u,mode:o.mode,onOnCreated:v},null,8,["modelValue","mode"]),a(T,{ref_key:"materialPickerRef",ref:e,type:l(m),limit:-1,"hidden-upload":"",onChange:_},null,8,["type"])],4))}}),J={class:"xl:flex"},Oe=C({__name:"protocol",setup(g){const r=x({service_title:"",service_content:"",privacy_title:"",privacy_content:""}),n=async()=>{r.value=await $()},f=async()=>{await j({...r.value}),n()};return n(),(p,e)=>{const m=k,s=P,u=F,c=q,d=N,_=R,v=B,o=z("perms");return V(),E(L,null,[b("div",J,[a(d,{class:"!border-none flex-1 xl:mr-4 mb-4",shadow:"never"},{header:i(()=>e[4]||(e[4]=[b("span",{class:"font-medium"},"服务协议",-1)])),default:i(()=>[a(u,{model:l(r),"label-width":"80px"},{default:i(()=>[a(s,{label:"协议名称"},{default:i(()=>[a(m,{modelValue:l(r).service_title,"onUpdate:modelValue":e[0]||(e[0]=t=>l(r).service_title=t)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),a(c,{class:"mb-10",modelValue:l(r).service_content,"onUpdate:modelValue":e[1]||(e[1]=t=>l(r).service_content=t),height:"500"},null,8,["modelValue"])]),_:1}),a(d,{class:"!border-none flex-1 mb-4",shadow:"never"},{header:i(()=>e[5]||(e[5]=[b("span",{class:"font-medium"},"隐私协议",-1)])),default:i(()=>[a(u,{model:l(r),"label-width":"80px"},{default:i(()=>[a(s,{label:"协议名称"},{default:i(()=>[a(m,{modelValue:l(r).privacy_title,"onUpdate:modelValue":e[2]||(e[2]=t=>l(r).privacy_title=t)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),a(c,{class:"mb-10",modelValue:l(r).privacy_content,"onUpdate:modelValue":e[3]||(e[3]=t=>l(r).privacy_content=t),height:"500"},null,8,["modelValue"])]),_:1})]),G((V(),S(v,null,{default:i(()=>[a(_,{type:"primary",onClick:f},{default:i(()=>e[6]||(e[6]=[H("保存")])),_:1})]),_:1})),[[o,["setting.web.web_setting/setAgreement"]]])],64)}}});export{Oe as default};
