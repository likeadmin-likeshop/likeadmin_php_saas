import{B as q,C as T,D as j,F as M,h as P}from"./element-plus-BBKw480Q.js";import{u as F,a as O,c as b,A as V,_ as X,b as Y,P as Z,d as G}from"./index-BjfF9UyA.js";import{r as L,d as R,b as S,o as _,c as f,a as r,U as H,aa as J,u as h,T as U,s as E,Z as Q,f as W,V as o,M as c,ab as C,S as ee}from"./@vue-pHjCrgw6.js";import{u as oe,a as te}from"./vue-router-DAYuzRuG.js";import"./lodash-es-R-kYiKr_.js";import"./async-validator-DKvM95Vc.js";import"./@element-plus-DMfktWgm.js";import"./dayjs-CMfar2R3.js";import"./balanced-match-mNcR6oh4.js";import"./@ctrl-r5W6hzzQ.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@popperjs-D9SI2xQl.js";import"./nprogress-Cgf5DU8x.js";import"./pinia-CJRVDLHa.js";import"./axios-C-n2IhIP.js";import"./lodash-BtPWuHkK.js";import"./@vueuse-djZFs-WH.js";import"./css-color-function-rJvg8h-6.js";import"./color-B0v57BL7.js";import"./clone-CuIhj1wH.js";import"./color-convert-BGgJB5UM.js";import"./color-name-BQ5IbGbl.js";import"./color-string-BhgG7-8u.js";import"./ms-CzQ2E3wO.js";import"./vue-clipboard3-8CNoFg4V.js";import"./clipboard-Dch_ozqB.js";import"./echarts-BR_QmBtV.js";import"./tslib-BDyQ-Jie.js";import"./zrender-B-CeXLwU.js";import"./highlight.js-D5uP1KGk.js";import"./@highlightjs-D4DIzBxc.js";function se(g){const t=L(!1);return{isLock:t,lockFn:async(...u)=>{if(!t.value){t.value=!0;try{const a=await g(...u);return t.value=!1,a}catch(a){throw t.value=!1,a}}}}}const ne={class:"layout-footer"},re={class:"text-center p-2 text-xs text-tx-secondary max-w-[900px] mx-auto"},ae=["href"],ce=R({__name:"footer",setup(g){const t=F(),l=S(()=>t.config.copyright_config||[]);return(u,a)=>(_(),f("footer",ne,[r("div",re,[(_(!0),f(H,null,J(h(l),i=>(_(),f("a",{class:"mx-1 hover:underline",href:i.value,target:"_blank",key:i.key},U(i.key),9,ae))),128))])]))}}),le={class:"login flex flex-col"},ie={class:"flex-1 flex items-center justify-center"},me={class:"login-card flex rounded-md overflow-hidden"},pe={class:"flex-1 h-full hidden md:inline-block"},ue={class:"login-form bg-body flex flex-col justify-center px-10 py-10 md:w-[400px] w-[375px] flex-none mx-auto"},de={class:"text-center text-3xl font-medium mb-8"},_e={class:"mb-5"},fe=R({__name:"login",setup(g){const t=E(),l=E(),u=F(),a=O(),i=oe(),B=te(),m=L(!1),v=S(()=>u.config),n=Q({account:"",password:""}),N={account:[{required:!0,message:"请输入账号",trigger:["blur"]}],password:[{required:!0,message:"请输入密码",trigger:["blur"]}]},$=()=>{var e;if(!n.password)return(e=t.value)==null?void 0:e.focus();x()},x=async()=>{var d;await((d=l.value)==null?void 0:d.validate()),b.set(V,{remember:m.value,account:m.value?n.account:""}),await a.login(n);const{query:{redirect:e}}=i,s=typeof e=="string"?e:Z.INDEX;B.push(s)},{isLock:z,lockFn:A}=se(x);return W(()=>{const e=b.get(V);e!=null&&e.remember&&(m.value=e.remember,n.account=e.account)}),(e,s)=>{const d=X,y=Y,w=q,k=T,D=j,I=M,K=P;return _(),f("div",le,[r("div",ie,[r("div",me,[r("div",pe,[o(d,{src:v.value.login_image,width:400,height:"100%"},null,8,["src"])]),r("div",ue,[r("div",de,U(v.value.web_name),1),o(D,{ref_key:"formRef",ref:l,model:n,size:"large",rules:N},{default:c(()=>[o(k,{prop:"account"},{default:c(()=>[o(w,{modelValue:n.account,"onUpdate:modelValue":s[0]||(s[0]=p=>n.account=p),placeholder:"请输入账号",onKeyup:C($,["enter"])},{prepend:c(()=>[o(y,{name:"el-icon-User",size:"16"})]),_:1},8,["modelValue"])]),_:1}),o(k,{prop:"password"},{default:c(()=>[o(w,{ref_key:"passwordRef",ref:t,modelValue:n.password,"onUpdate:modelValue":s[1]||(s[1]=p=>n.password=p),"show-password":"",placeholder:"请输入密码",onKeyup:C(x,["enter"])},{prepend:c(()=>[o(y,{name:"el-icon-Lock",size:"16"})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"]),r("div",_e,[o(I,{modelValue:m.value,"onUpdate:modelValue":s[2]||(s[2]=p=>m.value=p),label:"记住账号"},null,8,["modelValue"])]),o(K,{type:"primary",size:"large",loading:h(z),onClick:h(A)},{default:c(()=>s[3]||(s[3]=[ee(" 登录 ")])),_:1},8,["loading","onClick"])])])]),o(ce)])}}}),Ye=G(fe,[["__scopeId","data-v-5f140fa2"]]);export{Ye as default};
